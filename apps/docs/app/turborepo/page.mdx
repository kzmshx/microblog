# Turborepo

## モノレポのメリット

- コードスタイル、ツールの統一が容易
- パッケージ間の依存関係の追跡が容易
- 共有コードの管理が容易
- 統合テストの実行・管理が容易
- パッケージ横断の変更・リファクタリングが容易
- コードレビューが効率的

## モノレポのデメリット

- リポジトリサイズが肥大化
- ビルドの速度劣化
- プロジェクトごとのアクセス制御が難化
- モノレポ特有のツールの学習コストが追加

## Turborepoの特徴

- ビルドキャッシュ、インクリメンタルビルド
- パッケージ間の依存関係の自動解決
- 並列性
- カスタマイズ性

## Turborepoが解決する問題

- スケーラビリティ問題を解決
- 権限管理の問題は解決できない
- 初期の学習コストはあり

## pnpmの意味は「Performant NPM」

## appsとpackages

- apps: 独立して動作するアプリケーションを置く。appsの各ディレクトリは「ワークスペース」という単位。
- packages: プロジェクト横断で共有するコードや設定を置く。packagesの各ディレクトリも「ワークスペース」という単位。

これは公式が推奨している構成だが、必須ではない。

## Turborepoにおける「ワークスペース」

- すべてのワークスペースはpackage.jsonを持つ。
- package.jsonのnameがワークスペース名となる。
- ワークスペース間で依存関係を持たせることができ、Turborepoはそれを自動解決する。
